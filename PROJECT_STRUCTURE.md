# λ²•λ Ή λ¨λ‹ν„°λ§ μ‹μ¤ν… - ν”„λ΅μ νΈ κµ¬μ΅°

```
new_monitoring_system/
β”‚
β”β”€β”€ π“„ index.html                 # λ©”μΈ HTML νμΌ (UI)
β”β”€β”€ π¨ styles.css                 # μ¤νƒ€μΌμ‹νΈ
β”β”€β”€ β™οΈ config.js                  # ν™κ²½ μ„¤μ • (API ν‚¤, Supabase μ—°κ²° μ •λ³΄)
β”β”€β”€ π”§ app.js                     # λ©”μΈ JavaScript λ΅μ§
β”β”€β”€ π server.js                  # Node.js ν”„λ΅μ‹ μ„λ²„ (CORS ν•΄κ²°)
β”‚
β”β”€β”€ π“ database_schema.sql        # Supabase λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
β”‚
β”β”€β”€ π“¦ package.json               # Node.js ν”„λ΅μ νΈ μ„¤μ •
β”β”€β”€ π€ render.yaml                # Render λ°°ν¬ μ„¤μ • (μ •μ  μ‚¬μ΄νΈ)
β”β”€β”€ π€ render-node.yaml           # Render λ°°ν¬ μ„¤μ • (Node.js μ„λ²„)
β”β”€β”€ π« .gitignore                 # Git μ μ™Έ νμΌ
β”‚
β”β”€β”€ π“– README.md                  # ν”„λ΅μ νΈ κ°μ” λ° μ‚¬μ©λ²•
β””β”€β”€ π“‹ INSTALLATION.md            # μƒμ„Έ μ„¤μΉ λ° λ°°ν¬ κ°€μ΄λ“
```

---

## π“ νμΌ μƒμ„Έ μ„¤λ…

### ν”„λ΅ νΈμ—”λ“ νμΌ

#### π“„ **index.html**
- λ©”μΈ μ‚¬μ©μ μΈν„°νμ΄μ¤
- 5κ°μ μ£Όμ” νƒ­:
  - π“ λ€μ‹λ³΄λ“: μ‹μ¤ν… ν„ν™© μ”μ•½
  - π” λ²•λ Ή κ²€μƒ‰: λ²•μ μ² API κ²€μƒ‰
  - π”‘ ν‚¤μ›λ“ κ΄€λ¦¬: λ¨λ‹ν„°λ§ ν‚¤μ›λ“ μ„¤μ •
  - π“ λ³€κ²½μ‚¬ν•­: λ²•λ Ή λ³€κ²½ μ¶”μ 
  - β… μ΅°μΉμ‚¬ν•­: μ—…λ¬΄ μ΅°μΉ κ΄€λ¦¬
- λ¨λ‹¬ UI: λ²•λ Ή μƒμ„Έ, μ΅°μΉμ‚¬ν•­ μ¶”κ°€

#### π¨ **styles.css**
- ν„λ€μ μ΄κ³  κΉ”λ”ν• UI λ””μμΈ
- λ°μ‘ν• λ μ΄μ•„μ›ƒ (λ¨λ°”μΌ/νƒλΈ”λ¦Ώ/λ°μ¤ν¬ν†±)
- λ‹¤ν¬/λΌμ΄νΈ ν…λ§ μ§€μ› κ°€λ¥ν• κµ¬μ΅°
- CSS λ³€μλ¥Ό ν†µν• μ‰¬μ΄ μ»¤μ¤ν„°λ§μ΄μ§•

#### β™οΈ **config.js**
- Supabase μ—°κ²° μ„¤μ •
  - `SUPABASE_URL`: Supabase ν”„λ΅μ νΈ URL
  - `SUPABASE_KEY`: Supabase anon/public key
- λ²•μ μ² API μ„¤μ •
  - `LAW_API_KEY`: λ²•μ μ² API μΈμ¦ ν‚¤
  - `LAW_API_BASE_URL`: API μ—”λ“ν¬μΈνΈ
- μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ •
  - `AUTO_REFRESH_INTERVAL`: μλ™ μƒλ΅κ³ μΉ¨ κ°„κ²©

#### π”§ **app.js**
- ν•µμ‹¬ μ• ν”λ¦¬μΌ€μ΄μ… λ΅μ§
- μ£Όμ” κΈ°λ¥:
  - Supabase ν΄λΌμ΄μ–ΈνΈ μ΄κΈ°ν™”
  - νƒ­ μ „ν™ λ° λ°μ΄ν„° λ΅λ“
  - λ²•λ Ή κ²€μƒ‰ λ° μƒμ„Έ μ΅°ν
  - ν‚¤μ›λ“ CRUD μ‘μ—…
  - λ³€κ²½μ‚¬ν•­ κ°μ§€ λ° κ²€ν† 
  - μ΅°μΉμ‚¬ν•­ κ΄€λ¦¬
  - UI μ—…λ°μ΄νΈ λ° μ΄λ²¤νΈ μ²λ¦¬

### λ°±μ—”λ“ νμΌ

#### π **server.js**
- Node.js/Express κΈ°λ° ν”„λ΅μ‹ μ„λ²„
- CORS λ¬Έμ  ν•΄κ²°
- λ²•μ μ² API ν”„λ΅μ‹ μ—”λ“ν¬μΈνΈ:
  - `/api/law/search`: λ²•λ Ή κ²€μƒ‰
  - `/api/law/detail/:lawId`: λ²•λ Ή μƒμ„Έ μ΅°ν
- μ •μ  νμΌ μ„λΉ™

#### π“ **database_schema.sql**
- Supabase λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
- 5κ° μ£Όμ” ν…μ΄λΈ”:
  1. `laws`: λ²•λ Ή μ •λ³΄
  2. `monitoring_keywords`: λ¨λ‹ν„°λ§ ν‚¤μ›λ“
  3. `law_changes`: λ²•λ Ή λ³€κ²½ μ΄λ ¥
  4. `action_items`: μ΅°μΉμ‚¬ν•­
  5. `monitoring_logs`: μ‹μ¤ν… λ΅κ·Έ
- μΈλ±μ¤ λ° RLS(Row Level Security) μ •μ±…

### μ„¤μ • λ° λ¬Έμ„ νμΌ

#### π“¦ **package.json**
- Node.js ν”„λ΅μ νΈ λ©”νƒ€λ°μ΄ν„°
- μμ΅΄μ„± ν¨ν‚¤μ§€:
  - `express`: μ›Ή μ„λ²„
  - `cors`: CORS μ²λ¦¬
  - `axios`: HTTP ν΄λΌμ΄μ–ΈνΈ
- μ¤ν¬λ¦½νΈ:
  - `npm start`: ν”„λ΅λ•μ… μ„λ²„ μ‹¤ν–‰
  - `npm run dev`: κ°λ° μ„λ²„ μ‹¤ν–‰

#### π€ **render.yaml & render-node.yaml**
- Render ν”λ«νΌ λ°°ν¬ μ„¤μ •
- `render.yaml`: μ •μ  μ‚¬μ΄νΈ λ°°ν¬μ©
- `render-node.yaml`: Node.js μ„λ²„ λ°°ν¬μ© (κ¶μ¥)

#### π« **.gitignore**
- Git λ²„μ „ κ΄€λ¦¬μ—μ„ μ μ™Έν•  νμΌ μ§€μ •
- node_modules, ν™κ²½ λ³€μ, λ΅κ·Έ νμΌ λ“±

#### π“– **README.md**
- ν”„λ΅μ νΈ κ°μ”
- μ£Όμ” κΈ°λ¥ μ†κ°
- κΈ°μ  μ¤νƒ
- λΉ λ¥Έ μ‹μ‘ κ°€μ΄λ“

#### π“‹ **INSTALLATION.md**
- μƒμ„Έ μ„¤μΉ κ°€μ΄λ“
- Supabase μ„¤μ • λ°©λ²•
- λ΅μ»¬ ν…μ¤νΈ λ°©λ²•
- Render λ°°ν¬ λ°©λ²•
- λ¬Έμ  ν•΄κ²° κ°€μ΄λ“

---

## π”„ λ°μ΄ν„° νλ¦„

```
μ‚¬μ©μ μΈν„°νμ΄μ¤ (index.html)
         β†•
    JavaScript (app.js)
         β†•
    Supabase Client
         β†•
  Supabase Database
```

```
λ²•λ Ή κ²€μƒ‰ μ”μ²­
         β†“
    JavaScript (app.js)
         β†“
  Node.js ν”„λ΅μ‹ (server.js)
         β†“
    λ²•μ μ² API
         β†“
    XML μ‘λ‹µ
         β†“
  νμ‹± λ° DB μ €μ¥
         β†“
    UI μ—…λ°μ΄νΈ
```

---

## π― μ£Όμ” κΈ°λ¥λ³„ νμΌ μ—°κ΄€

### 1οΈβƒ£ λ²•λ Ή κ²€μƒ‰
- `index.html`: κ²€μƒ‰ UI (κ²€μƒ‰ νƒ­)
- `app.js`: `searchLaws()` ν•¨μ
- `server.js`: `/api/law/search` μ—”λ“ν¬μΈνΈ
- `database_schema.sql`: `laws` ν…μ΄λΈ”

### 2οΈβƒ£ ν‚¤μ›λ“ κ΄€λ¦¬
- `index.html`: ν‚¤μ›λ“ κ΄€λ¦¬ UI
- `app.js`: `loadKeywords()`, `addKeyword()`, `deleteKeyword()`
- `database_schema.sql`: `monitoring_keywords` ν…μ΄λΈ”

### 3οΈβƒ£ λ³€κ²½μ‚¬ν•­ μ¶”μ 
- `index.html`: λ³€κ²½μ‚¬ν•­ νƒ­
- `app.js`: `loadChanges()`, `checkForChanges()`, `reviewChange()`
- `database_schema.sql`: `law_changes` ν…μ΄λΈ”

### 4οΈβƒ£ μ΅°μΉμ‚¬ν•­ κ΄€λ¦¬
- `index.html`: μ΅°μΉμ‚¬ν•­ νƒ­ + λ¨λ‹¬
- `app.js`: `loadActions()`, `updateActionStatus()`
- `database_schema.sql`: `action_items` ν…μ΄λΈ”

---

## π”§ μ»¤μ¤ν„°λ§μ΄μ§• ν¬μΈνΈ

### UI ν…λ§ λ³€κ²½
- `styles.css`μ `:root` CSS λ³€μ μμ •

### API μ„¤μ •
- `config.js`μ—μ„ API ν‚¤ λ° μ—”λ“ν¬μΈνΈ λ³€κ²½

### μλ™ μƒλ΅κ³ μΉ¨ κ°„κ²©
- `config.js`μ `AUTO_REFRESH_INTERVAL` μμ •

### λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ ν™•μ¥
- `database_schema.sql`μ— ν…μ΄λΈ”/μ»¬λΌ μ¶”κ°€
- `app.js`μ κ΄€λ ¨ ν•¨μ μμ •

---

## π“ λ‹¤μ λ‹¨κ³„

1. β… Supabase μ„¤μ • μ™„λ£
2. β… λ΅μ»¬ ν…μ¤νΈ
3. β… Render λ°°ν¬
4. π“ μ‹¤μ  μ—…λ¬΄ ν‚¤μ›λ“ λ“±λ΅
5. π” κ΄€λ ¨ λ²•λ Ή κ²€μƒ‰ λ° λ¨λ‹ν„°λ§ μ¶”κ°€
6. π“ μ •κΈ°μ μΈ λ³€κ²½μ‚¬ν•­ ν™•μΈ
7. β… μ΅°μΉμ‚¬ν•­ κ΄€λ¦¬

---

**ν”„λ΅μ νΈ μƒνƒ**: β… λ°°ν¬ μ¤€λΉ„ μ™„λ£
